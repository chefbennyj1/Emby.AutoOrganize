<div id="libraryFileOrganizerPage" data-role="page" is="emby-scroller" class="libraryFileOrganizerPage view flex flex-direction-column scrollFrameY flex-grow withTabs emby-scroller page scrollY overflowYScroll" data-mousewheel="true" data-horizontal="false" data-centerfocus="card" data-bindheader="true" data-helpurl="https://github.com/MediaBrowser/Wiki/wiki/Auto-Organize" data-controller="__plugin/AutoOrganizeSettingsJs" data-title="Auto Organize">
    <div class="scrollSlider flex-grow flex-direction-column padded-left padded-left-page padded-right padded-top-page padded-bottom-page settingsContainer scrollSliderY">
        <style>
            .ui-responsive {
                width: 100%;
                text-align: left;
            }
        </style>
        <form class="libraryFileOrganizerForm">
            <div class="verticalSection verticalSection-extrabottompadding">
                <h2>Television Options</h2>

                <div class="checkboxContainer checkboxContainer-withDescription" style="margin: 2em 2em 0 0;">
                    <label style="width: auto;" class="emby-toggle-label">
                        <input type="checkbox" is="emby-toggle" id="chkEnableTelevisionOptions" class="emby-toggle emby-toggle-focusring">
                        <span class="toggleLabel">Enable television management</span>
                    </label>
                    <div class="fieldDescription toggleFieldDescription">Recognize TV Show files in the monitored folder.</div>
                </div>
                <div class="televisionOptions hide">

                    <p class="benefits">Supported television naming <a is="emby-linkbutton" class="button-link emby-button" href="https://support.emby.media/support/solutions/articles/44001159110-tv-naming" target="_blank">Learn more</a>.</p>

                    <div class="fldSelectSeriesFolder selectContainer">
                        <select id="selectSeriesFolder" is="emby-select" label="Default Series library folder:" required="required"></select>
                        <div class="fieldDescription">New series folder paths will be directed here by default. The folder path can be edited during manual sorting <span style="font-weight:bolder">(required)</span>.<span class="tvDriveSize"></span></div>
                    </div>

                    <!--Series-->
                    <div is="emby-collapse" title="Series directory pattern">
                        <div class="collapseContent">
                            <br />
                            <div class="inputContainer">
                                <input is="emby-input" id="txtSeriesPattern" type="text" label="Series pattern:" required />
                                <div class="fieldDescription seriesPatternDescription"></div>
                            </div>

                            <h4>Supported Patterns</h4>

                            <table id="series-table" class="ui-responsive" style="width:100%">
                                <thead>
									<tr style="text-align:left">
                                        <th>Term</th>
                                        <th>Pattern</th>
                                        <th>Result</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Series name</td>
                                        <td>%sn</td>
                                        <td>Series name</td>
                                    </tr>
                                    <tr>
                                        <td>Series name</td>
                                        <td>%s.n</td>
                                        <td>Series.name</td>
                                    </tr>
                                    <tr>
                                        <td>Series name</td>
                                        <td>%s_n</td>
                                        <td>Series_name</td>
                                    </tr>
                                    <tr>
                                        <td>Series year</td>
                                        <td>%sy</td>
                                        <td>2017</td>
                                    </tr>
                                    <tr>
                                        <td>Original Directory Path</td>
                                        <td>%fn</td>
                                        <td>Series name (2017)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!--Season-->
                    <div is="emby-collapse" title="Season directory pattern">
                        <div class="collapseContent">
                            <br />
                            <div class="inputContainer">
                                <input is="emby-input" id="txtSeasonFolderPattern" type="text" label="Season folder pattern:" required />
                                <div class="fieldDescription seasonFolderFieldDescription"></div>
                            </div>

                            <div class="inputContainer">
                                <input is="emby-input" id="txtSeasonZeroName" type="text" label="Season zero folder name:" required />
                                <div class="fieldDescription"></div>
                            </div>
                        </div>
                    </div>

                    <!--Episodes-->
                    <div is="emby-collapse" title="Episode file pattern">
                        <div class="collapseContent">
                            <br />
                            <div class="inputContainer">
                                <input is="emby-input" id="txtEpisodePattern" type="text" label="Episode pattern:" required />
                                <div class="fieldDescription episodePatternDescription"></div>
                            </div>
                            <div class="inputContainer">
                                <input is="emby-input" id="txtMultiEpisodePattern" type="text" label="Multi-episode pattern:" required />
                                <div class="fieldDescription multiEpisodePatternDescription"></div>
                            </div>
                            <div class="inputContainer">
                                <input is="emby-input" id="txtMultiEpisodeDeliminator" type="text" label="Multi-episode deliminator:" required maxlength="3" />
                                <div class="fieldDescription txtMultiEpisodeDeliminatorDescription">This is the text used to seperate the names of each episode. Patterns are not supported.</div>
                            </div>

                            <h4>Supported Patterns</h4>

                            <table id="episode-table" class="ui-responsive" style="width:100%">
                                <thead>
                                    <tr style="text-align:left">
                                        <th>Term</th>
                                        <th>Pattern</th>
                                        <th>Result</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Series name</td>
                                        <td>%sn</td>
                                        <td>Series name</td>
                                    </tr>
                                    <tr>
                                        <td>Series name</td>
                                        <td>%s.n</td>
                                        <td>Series.name</td>
                                    </tr>
                                    <tr>
                                        <td>Series name</td>
                                        <td>%s_n</td>
                                        <td>Series_name</td>
                                    </tr>
                                    <tr>
                                        <td>Season number</td>
                                        <td>%s</td>
                                        <td>1</td>
                                    </tr>
                                    <tr>
                                        <td>Season number</td>
                                        <td>%0s</td>
                                        <td>01</td>
                                    </tr>
                                    <tr>
                                        <td>Episode number</td>
                                        <td>%e</td>
                                        <td>4</td>
                                    </tr>
                                    <tr>
                                        <td>Episode number</td>
                                        <td>%0e</td>
                                        <td>04</td>
                                    </tr>
                                    <tr>
                                        <td>Ending episode number</td>
                                        <td>%ed</td>
                                        <td>5</td>
                                    </tr>
                                    <tr>
                                        <td>Ending episode number</td>
                                        <td>%0ed</td>
                                        <td>05</td>
                                    </tr>
                                    <tr>
                                        <td>Episode name</td>
                                        <td>%en</td>
                                        <td>Episode name</td>
                                    </tr>
                                    <tr>
                                        <td>Episode name</td>
                                        <td>%e.n</td>
                                        <td>Episode.name</td>
                                    </tr>
                                    <tr>
                                        <td>Episode name</td>
                                        <td>%e_n</td>
                                        <td>Episode_name</td>
                                    </tr>
                                    <tr>
                                        <td>File extension</td>
                                        <td>%ext</td>
                                        <td>mkv</td>
                                    </tr>
                                    <tr>
                                        <td>Original File Name</td>
                                        <td>%fn</td>
                                        <td>filename</td>
                                    </tr>
                                    <tr>
                                        <td>Resolution</td>
                                        <td>%res</td>
                                        <td>1080p</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="checkboxContainer checkboxContainer-withDescription" style="margin: 2em 2em 0 0;">
                        <label style="width: auto;" class="emby-toggle-label">
                            <input type="checkbox" is="emby-toggle" id="chkEnableSeriesAutoDetect" class="emby-toggle emby-toggle-focusring">
                            <span class="toggleLabel">Enable Smart Series Auto detect</span>
                        </label>
                        <div class="fieldDescription toggleFieldDescription">
                            Automatically detect and sort new episode files.<br />
                            If this option is disabled files will only be analyzed and you will need to manually initiate sorting.
                        </div>
                    </div>

                    <div class="fldEnableNewSeriesCreation checkboxContainer checkboxContainer-withDescription hide" style="margin-top: 1em; margin-left:3.5em">
                        <label class="emby-checkbox-label">
                            <input is="emby-checkbox" type="checkbox" id="chkEnableNewSeriesCreation" class="emby-checkbox">
                            <span class="checkboxLabel">Enable new series creation</span>
                        </label>
                        <div class="fieldDescription checkboxFieldDescription">
                            Create new series folders when matches are not found within the library.<br/> 
                            By default episodes will only sort when the Series exists in your library.
                        </div>
                    </div>

                    <div class="checkboxContainer checkboxContainer-withDescription" style="margin: 2em 2em 0 0;">
                        <label style="width: auto;" class="emby-toggle-label">
                            <input type="checkbox" is="emby-toggle" id="chkAllowMultipleEpisodeVersions" class="emby-toggle emby-toggle-focusring">
                            <span class="toggleLabel">Allow multiple copies of an episode</span>
                        </label>
                        <div class="fieldDescription toggleFieldDescription">
                            By default all copies of an episode will be removed from the library when sorting.<br/>
                            If you store multiple copies ensure your episode pattern is compatible with this by including resolution, release etc. If your episode pattern matches the library file the internal file will still be removed.
                        </div>
                    </div>

                </div>
            </div>
            <hr />
            <div class="verticalSection verticalSection-extrabottompadding">
                <h2>Movie Options</h2>

                <div class="checkboxContainer checkboxContainer-withDescription" style="margin: 2em 2em 0 0;">
                    <label style="width: auto;" class="emby-toggle-label">
                        <input type="checkbox" is="emby-toggle" id="chkEnableMovieOptions" class="emby-toggle emby-toggle-focusring">
                        <span class="toggleLabel">Enable movie management</span>
                    </label>
                    <div class="fieldDescription toggleFieldDescription">Recognize Movie files in the watched folder.</div>
                </div>

                <div class="movieOptions hide">
                    <p class="benefits">Supported movie naming <a is="emby-linkbutton" class="button-link emby-button" href="https://support.emby.media/support/solutions/articles/44001159102-movie-naming" target="_blank">Learn more</a>.</p>

                    <div class="fldSelectMovieFolder selectContainer">
                        <select id="selectMovieFolder" is="emby-select" label="Default Movie library  folder:" required="required"></select>
                        <div class="fieldDescription">New movie folder paths will be directed here by default. The folder path can be edited during manual sorting <span style="font-weight:bolder">(required)</span>.<span class="movieDriveSize"></span></div>
                    </div>

                    <div class="fldSubMovieFolder checkboxContainer checkboxContainer-withDescription" style="margin: 2em 2em 0 0;">
                        <label style="width:auto;" class="emby-toggle-label">
                            <input type="checkbox" is="emby-toggle" id="chkSubMovieFolders" class="emby-toggle emby-toggle-focusring">
                            <span class="toggleLabel">Create sub-directory per Movie</span>
                        </label>
                        <div class="fieldDescription toggleFieldDescription">Identified movies are placed in a folder with a movie folder pattern identified below.<br />Default: On. Adheres to Emby's basic file system naming structure. <a is="emby-linkbutton" class="button-link emby-button" href="https://support.emby.media/support/solutions/articles/44001159102-movie-naming" target="_blank">Learn more</a>.</div>
                    </div>

                    <div is="emby-collapse" class="hide fldSelectMovieFolderPattern" title="Movie folder pattern">
                        <div class="collapseContent">

                            <div class="inputContainer">
                                <input is="emby-input" id="txtMovieFolderPattern" type="text" label="Movie folder pattern:" required />
                                <div class="fieldDescription movieFolderPatternDescription"></div>
                            </div>

                            <h4>Supported Patterns</h4>

                            <table id="movie-folder-table" class="ui-responsive" style="width:100%">
                                <thead>
                                    <tr style="text-align:left">
                                        <th>Term</th>
                                        <th>Pattern</th>
                                        <th>Result</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Movie name</td>
                                        <td>%mn</td>
                                        <td>Movie name</td>
                                    </tr>
                                    <tr>
                                        <td>Movie name</td>
                                        <td>%m.n</td>
                                        <td>Movie.name</td>
                                    </tr>
                                    <tr>
                                        <td>Movie name</td>
                                        <td>%m_n</td>
                                        <td>Movie_name</td>
                                    </tr>
                                    <tr>
                                        <td>Production year</td>
                                        <td>%my</td>
                                        <td>2017</td>
                                    </tr>
                                    <tr>
                                        <td>File extension</td>
                                        <td>%ext</td>
                                        <td>mkv</td>
                                    </tr>
                                    <tr>
                                        <td>Original File Name</td>
                                        <td>%fn</td>
                                        <td>filename</td>
                                    </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div is="emby-collapse" title="Movie file pattern">
                        <div class="collapseContent">
                            <br />
                            <div class="inputContainer">
                                <input is="emby-input" id="txtMoviePattern" type="text" label="Movie pattern:" required />
                                <div class="fieldDescription moviePatternDescription"></div>
                            </div>

                            <h4>Supported Patterns</h4>

                            <table id="movie-name-table" class="ui-responsive" style="width:100%">
                                <thead>
                                    <tr style="text-align:left">
                                        <th>Term</th>
                                        <th>Pattern</th>
                                        <th>Result</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Movie name</td>
                                        <td>%mn</td>
                                        <td>Movie name</td>
                                    </tr>
                                    <tr>
                                        <td>Movie name</td>
                                        <td>%m.n</td>
                                        <td>Movie.name</td>
                                    </tr>
                                    <tr>
                                        <td>Movie name</td>
                                        <td>%m_n</td>
                                        <td>Movie_name</td>
                                    </tr>
                                    <tr>
                                        <td>Production year</td>
                                        <td>%my</td>
                                        <td>2017</td>
                                    </tr>
                                    <tr>
                                        <td>File resolution</td>
                                        <td>%res</td>
                                        <td>1080p</td>
                                    </tr>
                                    <tr>
                                        <td>Movie edition</td>
                                        <td>%e</td>
                                        <td>Directors Cut</td>
                                    </tr>
                                    <tr>
                                        <td>File extension</td>
                                        <td>%ext</td>
                                        <td>mkv</td>
                                    </tr>
                                    <tr>
                                        <td>Original File Name</td>
                                        <td>%fn</td>
                                        <td>filename</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p class="benefits">In order to benefit from multi-version movie items, the folder and file names must adhere to emby multi-version naming requirements. <a is="emby-linkbutton" class="button-link emby-button" href="https://support.emby.media/support/solutions/articles/44001159102" target="_blank">Learn more</a>.</p>

                        </div>
                    </div>


                    <div class="checkboxContainer checkboxContainer-withDescription" style="margin: 2em 2em 0 0;">
                        <label style="width: auto;" class="emby-toggle-label">
                            <input type="checkbox" is="emby-toggle" id="chkEnableMoviesAutoDetect" class="emby-toggle emby-toggle-focusring">
                            <span class="toggleLabel">Enable Smart Movie Auto detect</span>
                        </label>
                        <div class="fieldDescription toggleFieldDescription">
                            Automatically detect and sort new movies into the library.<br />
                            If this option is disabled files will only be analyzed and you will need to manually initiate sorting.
                        </div>
                    </div>

                </div>
            </div>
            <hr />
            <div class="verticalSection verticalSection-extrabottompadding">
                <h2>Subtitle Options</h2>
                <p class="benefits">Supported subtitle naming and extensions <a is="emby-linkbutton" class="button-link emby-button" href="https://support.emby.media/support/solutions/articles/44001159160-subtitles" target="_blank">Learn more</a>.</p>
                <div class="checkboxContainer checkboxContainer-withDescription" style="margin: 2em 2em 0 0;">
                    <label style="width: auto;" class="emby-toggle-label">
                        <input type="checkbox" is="emby-toggle" id="chkEnableSubtitleSorting" class="emby-toggle emby-toggle-focusring">
                        <span class="toggleLabel">Enable subtitle management</span>
                    </label>
                    <div class="fieldDescription toggleFieldDescription">Smart organization automatically sorts detected external subtitle files in the monitored folder.</div>
                </div>
            </div>
            <hr />
            <div class="verticalSection verticalSection-extrabottompadding">
                <h2 class="checkboxListLabel">Source Folder Options</h2>

                <div is="emby-collapse" title="Watch folders" class="verticalSection-extrabottompadding" style="padding: 1em 0 2em 0;">
                    <div class="collapseContent">
                        <br>
                        <div class="emby-itemsContainer verticalSection-extrabottompadding">
                            <button type="button" is="paper-icon-button-light" id="btnSelectWatchFolder" title="Add directory" class="autoSize fab"><i class="md-icon">add</i></button>
                            <label class="flex-grow">Add Folder</label>
                        </div>
                        <div class="fieldDescription">These folders will be monitored for new files.</div>

                        <div is="emby-itemscontainer" class="watchFolderListContainer itemsContainer flex flex-grow centered scrollY padded-right vertical-list verticalSection-extrabottompadding" data-virtualscrolllayout="vertical-grid">

                        </div>

                        <br />

                        <div class="checkboxContainer checkboxContainer-withDescription" style="margin: 2em 2em 0 0;">
                            <label style="width: auto;" class="emby-toggle-label">
                                <input type="checkbox" is="emby-toggle" id="chkEnablePreProcessingOptions" class="emby-toggle emby-toggle-focusring">
                                <span class="toggleLabel">Pre-process watched folder files</span>
                            </label>
                            <div class="fieldDescription toggleFieldDescription">Enable if watched folder paths are pointing directly to recording folders that contain compressed files (.rar, .zip extensions). Files in the watched folders will be decompressed for organization.</div>
                        </div>

                        <br />

                        <div class="inputContainer hide">
                            <div class="flex align-items-center">
                                <div class="flex-grow">
                                    <label class="inputLabel" for="txtPreProcessingFolderPath">Pre-processing folder path:</label>
                                    <input is="emby-input" id="txtPreProcessingFolderPath" label="Pre-processing folder path:" autocomplete="off" class="emby-input">
                                </div>
                                <button type="button" is="paper-icon-button-light" id="btnSelectPreProcessingFolderPath" title="Select Directory" aria-label="Select Directory" class="emby-input-iconbutton paper-icon-button-light"><i class="md-icon">search</i></button>
                            </div>
                            <div class="fieldDescription">Select a custom pre-processing folder path. Files from the watched folder locations will be managed here for organization in the emby library <span style="font-weight:bolder">(required)</span>.</div>
                        </div>

                        <br />

                    </div>
                </div>



                <div class="selectContainer">
                    <select is="emby-select" id="copyOrMoveFile" label="Transfer method:">
                        <option value="true">Copy</option>
                        <option value="false">Move</option>
                    </select>
                    <div class="fieldDescription editorfieldDescription">Copy or move files from the watch folder</div>
                </div>

                <div class="inputContainer">
                    <input is="emby-input" id="txtIgnoreFileNameContains" type="text" label="Ignore file names which contain:" />
                    <div class="fieldDescription">Comma delimited list of words which are contained in file names to be ignored in the watched folder.</div>
                </div>

                <div class="inputContainer">
                    <input is="emby-input" id="txtMinFileSize" type="number" label="Min file size (MB):" pattern="[0-9]*" min="0" required />
                    <div class="fieldDescription">Files smaller than this will be ignored.</div>
                </div>

                <h3 class="checkboxListLabel">Clean up</h3>
                <div class="inputContainer">
                    <input is="emby-input" id="txtDeleteLeftOverFiles" type="text" label="Delete left over files" />
                    <div class="fieldDescription">Each value separated by ;</div>
                </div>

                <div class="checkboxContainer checkboxContainer-withDescription">
                    <label>
                        <input type="checkbox" is="emby-checkbox" id="chkDeleteEmptyFolders" />
                        <span>Delete empty folders</span>
                    </label>
                    <div class="fieldDescription checkboxFieldDescription">Empty folders will be deleted when <b>all files have been sorted.</b></div>
                </div>
                <div class="checkboxContainer checkboxContainer-withDescription">
                    <label>
                        <input type="checkbox" is="emby-checkbox" id="chkExtendedClean" />
                        <span>Extended Clean</span>
                    </label>
                    <div class="fieldDescription checkboxFieldDescription">Clean empty folders from watch folders when <b>all files have been sorted</b>.</div>
                </div>
            </div>
            <hr />
            <div class="verticalSection verticalSection-extrabottompadding">
                <h2 class="checkboxListLabel">Destination Folder Options</h2>

                <div class="checkboxContainer checkboxContainer-withDescription" style="margin-bottom:0;">
                    <label style="width:auto;" class="emby-toggle-label">
                        <input type="checkbox" is="emby-toggle" id="chkOverwriteExistingEpisodeItems" class="emby-toggle emby-toggle-focusring">
                        <span class="toggleLabel">Overwrite existing library episode files</span>
                    </label>
                    <div class="fieldDescription toggleFieldDescription">Automatically overwrite existing episode files in the library with any new versions in the watched folder.</div>
                </div>

                <br />

                <div class="fldOverWriteExistingEpisodeFilesKeyWords inputContainer">
                    <input is="emby-input" id="txtOverWriteExistingEpisodeFilesKeyWords" type="text" label="Restrict overwriting existing library files to only files that contain the following key words:" />
                    <div class="fieldDescription">Each value separated by ;</div>
                </div>

                <br />

                <div class="checkboxContainer checkboxContainer-withDescription" style="margin-bottom:0;">
                    <label style="width:auto;" class="emby-toggle-label">
                        <input type="checkbox" is="emby-toggle" id="chkOverwriteExistingMovieItems" class="emby-toggle emby-toggle-focusring">
                        <span class="toggleLabel">Overwrite existing library movie files</span>
                    </label>
                    <div class="fieldDescription toggleFieldDescription">Automatically overwrite existing movie files in the library with any new versions in the watched folder.</div>
                </div>

                <br />

                <div class="fldOverWriteExistingMovieFilesKeyWords inputContainer">
                    <input is="emby-input" id="txtOverWriteExistingMovieFilesKeyWords" type="text" label="Restrict overwriting existing library files to only files that contain the following key words:" />
                    <div class="fieldDescription">Each value separated by ;</div>
                </div>

            </div>

            <div>
                <button is="emby-button" type="submit" class="raised button-submit block"><span>Save</span></button>
            </div>
        </form>

    </div>

</div>
